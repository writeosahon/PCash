<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!-- add-recipient page -->
<ons-page id="add-recipient-page">
    <ons-toolbar class="toolbar--transparent" style="background-color: rgba(49, 27, 146, 0.5)">
        <div class="left">
            <ons-toolbar-button onclick="$('#app-main-navigator').get(0).popPage({data: {refresh: true}});">
                <ons-icon icon="md-long-arrow-left" size="20px"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="center" style="text-align: center;">
            Add Recipient Account
        </div>
        <div class="right">
            <ons-toolbar-button class="page-options-button"
                                onclick="utopiasoftware.saveup.controller.createAppSecondaryMenus('#secondary-menu-options', this)"><ons-icon icon="md-more-vert"></ons-icon></ons-toolbar-button>
        </div>
    </ons-toolbar>

    <div style="background-image: url('css/app-images/add-recipients-background.jpg'); background-position: center;
    background-size: cover; background-repeat: repeat; -webkit-filter: blur(1px); filter: blur(1px);
    width: 100%; height: 140px; position: relative"><!-- div has background image -->
        <div class="progress" style="position: absolute; top: 0;">
            <div class="indeterminate"></div>
        </div>
    </div>

    <form id="add-recipient-form" autocomplete="off" data-parsley-inputs="input,textarea,select"
          data-parsley-excluded="input[type=button], input[type=submit],
                              input[type=reset], input[type=hidden], [disabled], :hidden, readonly" style="display: block;">

        <ons-list>
            <ons-list-header style="z-index: 2; font-size: 1.3em; margin:0; text-align: center; background-color: #ede7f6; color: #b388ff">
                Add New Recipient <span id="add-recipient-help-1" class="btn btn-floating deep-purple accent-1 pulse" style="box-shadow: none"
                                          onclick="$('.tap-target', $('#add-recipient-page')).tapTarget('open');">
                    <ons-icon icon="fa-question"></ons-icon>
                </span>
            </ons-list-header>

            <div class="row" style="position: relative;">
                <div class="col s2" style="text-align: center;">
                    <ons-icon icon="md-saveup-icon-saveup-saving-group" size="28px" style="color: #b388ff; padding-top: 1em;"></ons-icon>
                </div>
                <div class="col s8 input-field" style="position: relative">
                    <select id="add-recipient-choose-bank"
                            onchange="$('#hidden-choose-bank-input').val($(this).val()); $('#hidden-choose-bank-input').blur();
                            utopiasoftware.saveup.controller.addAccountPageViewModel.resetAccountNameDisplay();">
                        <option value="" disabled selected>Choose Bank</option>
                    </select>
                    <label for="add-recipient-choose-bank"></label>
                </div>
                <input id="hidden-choose-bank-input" type="text" required
                       data-parsley-trigger-after-failure="focusout"
                       data-parsley-required-message="pick a bank"
                       class="hint--bottom-left utopiasoftware-no-style"
                       style="position: absolute; top: 10%; left: 20%; visibility: collapse; z-index: -10">
            </div>

            <div class="row">
                <div class="col s2" style="text-align: center;">
                    <ons-icon icon="md-account" size="28px" style="color: #b388ff; padding-top: 1em;"></ons-icon>
                </div>
                <div class="col s8 input-field">
                    <input id="add-recipient-account-number" type="number" required placeholder="NUBAN"
                           onkeyup="utopiasoftware.saveup.controller.addAccountPageViewModel.resetAccountNameDisplay();"
                           onfocus="$('#add-recipient-page ons-list-header').css({'display': 'none'});"
                           onblur="$('#add-recipient-page ons-list-header').css({'display': 'block'});"
                           data-length="10"
                           data-parsley-type="digits"
                           data-parsley-minlength="10"
                           data-parsley-maxlength="10"
                           data-parsley-remote
                           data-parsley-remote-options='{ "type": "POST", "dataType": "text", "contentType": "application/json", "processData": false, "timeout": 240000}'
                           data-parsley-required-message="enter an account number"
                           data-parsley-digits-message="account number must contain only numbers"
                           data-parsley-minlength-message="account number cannot be less than 10 numbers"
                           data-parsley-maxlength-message="account number cannot be more than 10 numbers"
                           data-parsley-remote-message="account number unknown or invalid">
                    <label for="add-recipient-account-number" class="active hint--top">Recipient Account Number</label>
                </div>
                <div id="add-recipient-account-number-validation-loading" class="col s12" style="text-align: center; display: none">
                    <ons-icon icon="ion-load-d" size="32px" style="color: #311b92;" spin></ons-icon>
                </div>
                <div class="col s12" style="text-align: center; padding-top: 1em;">
                    <input id="add-recipient-account-verify-account" type="checkbox" value="verified"
                           onclick="utopiasoftware.saveup.controller.addAccountPageViewModel.isbankAccountNumberValidated(this);">
                    <label for="add-recipient-account-verify-account">Verify Account Number</label>
                    <input id="add-account-unique-id" type="hidden"> <!-- used to hold the unique id for the account during update/edit -->
                </div>
                <div id="add-recipient-account-verify-account-notice" class="col s12" style="text-align: center;
                font-size: 0.75em; color: gray; display: none;">
                    NOTE: active Internet connection is required to verify account number
                </div>
            </div>

            <div class="row">
                <div class="col s2" style="text-align: center;">
                    <ons-icon icon="md-account-box-o" size="28px" style="color: #b388ff; padding-top: 1em;"></ons-icon>
                </div>
                <div class="col s9 input-field">
                    <input id="add-recipient-account-name" type="text"
                           pattern="[a-zA-Z0-9]{1}[\w\s\-\.]*[a-zA-Z0-9]{1}" required
                           onkeyup="utopiasoftware.saveup.controller.verifyAccountPageViewModel.resetVerifiedAcctDisplay();"
                           onfocus="$('#add-recipient-page ons-list-header').css({'display': 'none'});"
                           onblur="$('#add-recipient-page ons-list-header').css({'display': 'block'});"
                           data-parsley-required-message="enter an account name"
                           data-parsley-pattern-message="incorrect name pattern. please check your spelling">
                    <label for="add-recipient-account-name" class="active hint--top">Recipient Account Name</label>
                </div>
            </div>

        </ons-list>
    </form>

    <ons-bottom-toolbar>
        <ons-row>
            <ons-col width="100%" style="text-align: center;">
                <ons-button id="add-recipient-cancel-button" modifier="quiet" disabled style="color: red;"
                            onclick="$('#app-main-navigator').get(0).popPage({data: {refresh: true}});">Cancel</ons-button>
                <ons-button id="add-recipient-save-button" modifier="quiet" disabled>Save</ons-button>
            </ons-col>
        </ons-row>
    </ons-bottom-toolbar>

    <!-- tap target for feature discovery. This is not directly visible on the page -->
    <div class="tap-target" data-activates="add-recipient-help-1" style="background-color: #82b1ff; color: #ffffff;">
        <div class="tap-target-content">
            <h5 style="padding-left: 1em;">Store Transfer Recipient</h5>
            <p style="width: 50%; margin-left: 3%;">
                Add recipient bank account to your secure digital wallet</p>
        </div>
    </div>

</ons-page>
</body>
</html>